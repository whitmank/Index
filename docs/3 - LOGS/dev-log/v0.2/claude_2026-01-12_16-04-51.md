# Development Log - 2026-01-12

## Session Summary
Refactored frontend architecture, fixed grid layout behavior, and implemented auto-hiding scrollbars.

## Development Activity

### Build System
- Installed `concurrently` package for parallel process management
- Created unified `npm run dev` script to run database + frontend together
- Scanner remains separate on-demand command until event-driven refactor

### Frontend Architecture
- Refactored from single-page component to routes-as-state pattern
- Created `Layout.jsx` component with shared state and persistent UI
- Split views into separate route components:
  - `/directory` - File list view (renamed from /files)
  - `/tags` - Tags view
  - `/dev` - Development tools view (new)
- Implemented React Router `<Outlet>` context for state sharing between routes
- Updated sidebar navigation to use `<Link>` components with active route highlighting
- Removed catch-all redirect for better dev error signals

### Layout & Grid System
- Fixed CSS grid to anchor sidebars to edges (left/right) instead of floating center
- Removed `justify-content: center` from body that was causing centering issue
- Changed sidebar widths: 150px (left), 300px (right), flexible center content
- Grid structure: `[frame-pad] [150px] [1fr] [300px] [frame-pad]`
- Made right sidebar (detail panel) always visible with empty state placeholder

### UI/UX Improvements
- Implemented auto-hiding scrollbars with fade animations:
  - Appear instantly on scroll start
  - Fade out gradually (1s) after 1s of scroll inactivity
  - Uses `rgba()` alpha transitions on scrollbar thumb
  - Applied to sidebar, file list, and detail panel
- Added JavaScript scroll event listeners with debounced timeout
- Added `.is-scrolling` class toggle for CSS animation control

### Documentation
- Created `/!docs/STYLING.md` comprehensive styling guide:
  - CSS architecture and file organization
  - Design system (CSS variables, spacing, colors)
  - Grid layout structure and critical rules
  - Component patterns and responsive behavior
  - Common tasks and gotchas from debugging session

### In Progress
- Debugging scrollbar fade animation (added console logging for troubleshooting)
- Transition uses `rgba(224, 224, 224, 0)` to `rgba(224, 224, 224, 1)` for fade effect
- Issue: Animation not firing correctly, investigating JavaScript event listeners

## Files Modified
- `package.json` - Added concurrently, dev scripts
- `frontend/src/App.jsx` - Route definitions
- `frontend/src/components/Layout/Layout.jsx` - Main layout component
- `frontend/src/components/Layout/Layout.css` - Grid structure, scrollbar styles
- `frontend/src/pages/FilesView/` - File list route view
- `frontend/src/pages/TagsView/` - Tags route view
- `frontend/src/pages/DevView/` - Dev tools route view (new)
- `frontend/src/components/DetailPanel/DetailPanel.jsx` - Always-visible empty state
- `frontend/src/components/DetailPanel/DetailPanel.css` - Scrollbar styles
- `frontend/src/styles/global.css` - Removed body centering

## Files Created
- `frontend/src/components/Layout/Layout.jsx`
- `frontend/src/components/Layout/Layout.css`
- `frontend/src/pages/FilesView/FilesView.jsx`
- `frontend/src/pages/FilesView/FilesView.css`
- `frontend/src/pages/TagsView/TagsView.jsx`
- `frontend/src/pages/TagsView/TagsView.css`
- `frontend/src/pages/DevView/DevView.jsx`
- `frontend/src/pages/DevView/DevView.css`
- `!docs/STYLING.md`

## Files Deleted
- `frontend/src/pages/FileView/` - Replaced by Layout + route structure

## Next Steps
- Debug scrollbar fade animation (verify event listeners firing)
- Refactor scanner module to event-driven architecture
- Add scanner controls to `/dev` route
